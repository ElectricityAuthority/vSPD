GAMS 42.5.0  cf11b917 Mar 30, 2023          WEX-WEI x86 64bit/MS Windows - 08/08/23 15:40:46 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *=====================================================================================
   2  * Name:               vSPDPeriod.gms
   3  * Function:           Establish the set of periods selected to be solved in vSPD
   4  *                     and unload to gdx file for later use in vSPDsolve.gms
   5  * Developed by:       Electricity Authority, New Zealand
   6  * Source:             https://github.com/ElectricityAuthority/vSPD
   7  *                     https://www.emi.ea.govt.nz/Tools/vSPD
   8  * Contact:            Forum: https://www.emi.ea.govt.nz/forum/
   9  *                     Email: emi@ea.govt.nz
  10  * Last modified on:   1 Nov 2022
  11  *
  12  *=====================================================================================
  13   
INCLUDE    C:\vSPD\vSPD\Programs_new\vSPDsettings.inc
  15  *+++ vSPD settings +++
  18   
  19  *+++ Paths +++
  21   
  26   
  28   
  29   
  30  *+++ Model +++
  31  Scalar sequentialSolve                   / 0 / ;   ! Vectorisation: Yes <-> i_SequentialSolve: 0
  32  Scalar disconnectedNodePriceCorrection   / 1 / ;
  33  Scalar tradePeriodReports                / 1 / ;   ! Specify 1 for reports at trading period level, 0 otherwise
  34   
  35   
  36  *+++ Network +++
  37  Scalar useACLossModel                    / 1 /    ;
  38  Scalar useHVDCLossModel                  / 1 /    ;
  39  Scalar useACBranchLimits                 / 1 /    ;
  40  Scalar useHVDCBranchLimits               / 1 /    ;
  41  Scalar resolveCircularBranchFlows        / 1 /    ;
  42  Scalar resolveHVDCNonPhysicalLosses      / 1 /    ;
  43  Scalar resolveACNonPhysicalLosses        / 0 /    ;   ! Placeholder for future code development
  44  Scalar circularBranchFlowTolerance       / 1e-4 / ;
  45  Scalar nonPhysicalLossTolerance          / 1e-6 / ;
  46  Scalar useBranchFlowMIPTolerance         / 1e-6 / ;
  47   
  48   
  49  *+++ Constraints +++
  50  Scalar useReserveModel                   / 1 /    ;
  51  Scalar suppressMixedConstraint           / 0 /    ;   ! No longer used since Mixed MIP Constraints no longer exists
  52  Scalar mixedMIPtolerance                 / 1e-6 / ;   ! No longer used since Mixed MIP Constraints no longer exists
  53   
  54   
  55  *+++ Solver +++
  56  Scalar LPtimeLimit                       / 3600 / ;
  57  Scalar LPiterationLimit                  / 2000000000 / ;
  58  Scalar MIPtimeLimit                      / 3600 / ;
  59  Scalar MIPiterationLimit                 / 2000000000 / ;
  60  Scalar MIPoptimality                     / 0 / ;
  63   
  64   
  65  *+++ Various switches +++
INCLUDE    C:\vSPD\vSPD\Programs_new\vSPDcase.inc
  69   
  70  * If input file does not exist then go to the next input file
  72   
  73   
  74  *===============================================================================
  75  * 1. Initialize set and data
  76  *===============================================================================
  77  Sets
  78  ca                      'Set of caseID'
  79  tp                      'Set of trading periods'
  80  dt                      'Set of datetime'
  81  case2dt2tp(ca<,dt<,tp<) 'Mapping caseID to datetime and to trading periods'
  82   
  83   
  84  sca(ca)                 'caseID to be solved'
  85  stp(tp)                 'Trading periods to be solved'
  86  sdt(dt)                 'Date time to be solved'
  87  scase2dt2tp(ca,dt,tp)   'Mapping solved caseID to datetime and to trading periods'
  88  ;
  89  alias (tp,tp1), (dt,dt1), (ca,ca1);
  90   
GDXIN   C:\vSPD\vSPD\Input\RTD_20230731_new.gdx
--- LOAD  case2dt2tp = 4:i_dateTimeTradePeriodMap
  94   
  95  *===============================================================================
  96  * 2. Establish which trading periods are to be solved
  97  *===============================================================================
  98  Sets
  99  alp            'All trading periods to be solved'  / All /
 100  tmp            'Temporary list of trading period to be solved'
INCLUDE    C:\vSPD\vSPD\Programs_new\vSPDtpsToSolve.inc
      a. to solve all trading periods
      /  
      All
      /  
       
      b. to solve trading periods 3 and 6
      /                /        
      TP3      Or      TP3, TP6 
      TP6              /        
      /                         
 114  *============================================= // ==========================================
 115   
 116  /
 117  'TP26'
 118  *'311012023070030562'
 119  *'31-JUL-2023 12:30'
 120  *'31-JUL-2023 12:35'
 121  *All
 122  /
 123  ;
 124  sca(ca)       = no ;
 125  stp(tp)       = no ;
 126  sdt(dt)       = no ;
 127   
 128  stp(tp) $ sum[ tmp, diag(tp,tmp)] = yes ;
 129  sdt(dt) $ sum[ tmp, diag(dt,tmp)] = yes ;
 130  sca(ca) $ sum[ tmp, diag(ca,tmp)] = yes ;
 131   
 132  stp(tp) $ sum[ tmp, diag(tmp,'All')] = yes ;
 133  sdt(dt) $ sum[ tmp, diag(tmp,'All')] = yes ;
 134  sca(ca) $ sum[ tmp, diag(tmp,'All')] = yes ;
 135   
 136   
 137  sdt(dt) $ { ( sum[dt1 $ sdt(dt1), 1] = 0 ) and (sum[ca $ sca(ca), 1] = 0 ) and sum[ (ca,stp(tp)) $ { case2dt2tp(ca,dt,tp)}, 1 ] } = yes ;
 138  sdt(dt) $ { ( sum[dt1 $ sdt(dt1), 1] = 0 ) and (sum[tp $ stp(tp), 1] = 0 ) and sum[ (sca(ca),tp) $ { case2dt2tp(ca,dt,tp)}, 1 ] } = yes ;
 139  sdt(dt) $ { ( sum[dt1 $ sdt(dt1), 1] = 0 ) and sum[ (sca(ca),stp(tp)) $ case2dt2tp(ca,dt,tp), 1 ] } = yes ;
 140   
 141  stp(tp) $ { ( sum[tp1 $ stp(tp1), 1] = 0 ) and ( sum[ca $ sca(ca), 1] = 0 ) and sum[ (ca,sdt(dt)) $ case2dt2tp(ca,dt,tp), 1 ] } = yes ;
 142  stp(tp) $ { ( sum[tp1 $ stp(tp1), 1] = 0 ) and ( sum[dt $ sdt(dt), 1] = 0 ) and sum[ (sca(ca),dt) $ case2dt2tp(ca,dt,tp), 1 ] } = yes ;
 143  stp(tp) $ { ( sum[tp1 $ stp(tp1), 1] = 0 ) and sum[ (sca(ca),sdt(dt)) $ case2dt2tp(ca,dt,tp), 1 ] } = yes ;
 144   
 145  sca(ca) $ { ( sum[dt $ sdt(dt), 1] = 0 ) and sum[ (dt,stp(tp)) $ case2dt2tp(ca,dt,tp), 1 ] } = yes ;
 146  sca(ca) $ { ( sum[tp $ stp(tp), 1] = 0 ) and sum[ (sdt(dt),tp) $ case2dt2tp(ca,dt,tp), 1 ] } = yes ;
 147  sca(ca) $ { ( sum[ca1 $ sca(ca1), 1] = 0 ) and sum[ (sdt(dt),stp(tp)) $ case2dt2tp(ca,dt,tp), 1 ] } = yes ;
 148   
 149  scase2dt2tp(sca(ca),sdt(dt),stp(tp)) = yes $ case2dt2tp(ca,dt,tp) ;
 150   
 151  sca(ca) = yes $ sum[ (sdt(dt),stp(tp)) $ scase2dt2tp(ca,dt,tp), 1 ] ;
 152  sdt(dt) = yes $ sum[ (sca(ca),stp(tp)) $ scase2dt2tp(ca,dt,tp), 1 ] ;
 153  stp(tp) = yes $ sum[ (sca(ca),sdt(dt)) $ scase2dt2tp(ca,dt,tp), 1 ] ;
 154   
 155   
 156  execute_unload 'C:\vSPD\vSPD\Programs_new\\vSPDperiod.gdx'
 157    sca    = i_caseID
 158    stp    = i_tradePeriod
 159    sdt    = i_dateTime
 160    scase2dt2tp  = i_DateTimeTradePeriod
 161    ;
 162   
GAMS 42.5.0  cf11b917 Mar 30, 2023          WEX-WEI x86 64bit/MS Windows - 08/08/23 15:40:46 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\vSPD\vSPD\Programs_new\vSPDperiod.gms
     2       14 INCLUDE        1      14  .C:\vSPD\vSPD\Programs_new\vSPDsettings.inc
     3       67 INCLUDE        1      15  .C:\vSPD\vSPD\Programs_new\vSPDcase.inc
     4       71 IF EXIST       1      18  C:\vSPD\vSPD\Input\RTD_20230731_new.gdx
     5       91 GDXIN          1      38  C:\vSPD\vSPD\Input\RTD_20230731_new.gdx
     6      101 INCLUDE        1      48  .C:\vSPD\vSPD\Programs_new\vSPDtpsToSolve.inc


COMPILATION TIME     =        0.000 SECONDS      3 MB  42.5.0 cf11b917 WEX-WEI
GAMS 42.5.0  cf11b917 Mar 30, 2023          WEX-WEI x86 64bit/MS Windows - 08/08/23 15:40:46 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


EXECUTION TIME       =        0.000 SECONDS      4 MB  42.5.0 cf11b917 WEX-WEI


USER: Small MUD-5 User License                       G220916|0002CO-GEN
      Electricity Authority - Te Mana Hiko,                  DC5643-S10


**** FILE SUMMARY

Input      C:\vSPD\vSPD\Programs_new\vSPDperiod.gms
Output     C:\vSPD\vSPD\Programs_new\vSPDperiod.lst
